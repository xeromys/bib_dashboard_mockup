<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Dashboard</title>
    <style>
        /* Existing styles */
        #obs-map {
            flex-shrink: 0;
        }
        /* Other styles... */
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet/dist/leaflet.js"></script>
    <script>
        // Map initialization and handling
        var mapTimeouts = { timeout1: 300, timeout2: 800, timeout3: 1500 };
        function initMap() {
            try {
                var map = L.map('obs-map').setView([51.505, -0.09], 13);
                // ... additional map setup
            } catch (error) {
                console.error('Error loading Leaflet:', error);
                alert('Failed to load the map. Please try again later.');
            }
        }
        window.onload = initMap;
    </script>
</head>
<body>
    <div id="obs-map" style="height: 600px;"></div>
    <!-- Other body content... -->
</body>
</html>
